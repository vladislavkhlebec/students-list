(this["webpackJsonpstudents-list"]=this["webpackJsonpstudents-list"]||[]).push([[0],{109:function(e,t,n){},177:function(e,t,n){e.exports=n(314)},313:function(e,t,n){},314:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),o=n.n(c),i=n(30),l=n(99),u=(n(109),n(33)),s=n(161),d=n(361),m=n(349),p=r.a.createContext(),f=p.Provider,E=p.Consumer,b=function(){return function(e){return function(t){return r.a.createElement(E,null,(function(n){return r.a.createElement(e,Object.assign({},t,{studentslistService:n}))}))}}},h=n(74);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=n(315),O=n(356),v=n(369),T=n(353),N=n(354),D=n(355),j=n(154),w=n.n(j),_=n(155),P=n.n(_),C=n(367),x=Object(m.a)((function(e){return{margin:{margin:e.spacing(1)},center:{display:"flex",justifyContent:"space-between",paddingRight:0},column:{display:"flex",flexDirection:"column",width:"70%"}}})),L=Object(i.b)(null,{deleteStudent:function(e){return{type:"DELETE_STUDENT",payload:e}},selectEditStudent:function(e){return{type:"SELECT_EDIT_STUDENT",payload:e}}})((function(e){var t=e.student,n=e.deleteStudent,a=e.selectEditStudent,c=t.id,o=t.firstName,i=t.lastName,l=t.patronymic,u=t.birthDate,s=t.performance,d=t.avatar,m=x();return r.a.createElement(S.a,{button:!0,className:m.center},r.a.createElement(T.a,null,r.a.createElement(N.a,{alt:"Avatar n\xb0".concat(i+1),src:d||"https://st3.depositphotos.com/8169504/15139/v/1600/depositphotos_151391066-stock-illustration-man-portrait-beard-modern-avatar.jpg"})),r.a.createElement(C.a,{className:m.column},r.a.createElement(v.a,{primary:"".concat(i," ").concat(o," ").concat(l)}),r.a.createElement(v.a,{primary:"Bithdate: ".concat(u," Performance: ").concat(s," ")})),r.a.createElement(D.a,{"aria-label":"delete",onClick:function(){return a(c)}},r.a.createElement(w.a,{fontSize:"small"})),r.a.createElement(D.a,{"aria-label":"delete",onClick:function(){return n(c)}},r.a.createElement(P.a,{fontSize:"small"})),r.a.createElement(O.a,null))})),k=n(357),I=Object(m.a)((function(e){return{list:{width:"100%",maxWidth:400,backgroundColor:e.palette.background.paper}}})),U=function(e){var t=e.students,n=I();return r.a.createElement(k.a,{className:n.list},t.map((function(e){var t="checkbox-list-label-".concat(e.id);return r.a.createElement(L,{key:e.id,student:e,labelId:t})})))},q=n(371),R=n(362),A=n(4),B=n(364),W=n(366),F=n(363),J=n(360),V=n(368),X=n(160),z=n(45),M=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}},H=Object(m.a)((function(e){return{form:{width:"40%",margin:0,padding:0},spacing:{display:"flex",justifyContent:"space-between",width:"94%"},button:{marginTop:"10px"}}})),G=z.object().shape({firstName:z.string().min(2,"Too Short!").max(50,"Too Long!").required("Required"),lastName:z.string().min(2,"Too Short!").max(50,"Too Long!").required("Required"),patronymic:z.string().min(2,"Too Short!").max(50,"Too Long!").required("Required"),birthDate:z.string().required("Required"),performance:z.string().required("Required")}),K=Object(A.a)({root:{"& .MuiFormHelperText-contained":{color:"red"}}})(q.a),Q=M(b(),Object(i.b)((function(e){return{editingStudent:e.editingStudent}}),{addStudent:function(e){return{type:"ADD_STUDENT",payload:g({id:"_"+Math.random().toString(36).substr(2,9)},e)}},deselectEditStudent:function(){return{type:"RESET_EDIT_STUDENT"}},updateStudent:function(e){return{type:"UPDATE_STUDENT",payload:e}}}))((function(e){var t=e.addStudent,n=e.editingStudent,a=e.deselectEditStudent,c=e.updateStudent,o=H(),i={firstName:"".concat(n?n.firstName:""),lastName:"".concat(n?n.lastName:""),patronymic:"".concat(n?n.patronymic:""),birthDate:"".concat(n?n.birthDate:"1990-01-01"),performance:"".concat(n?n.performance:"well"),avatar:"".concat(n?n.avatar:"")};return r.a.createElement(d.a,{className:o.form},r.a.createElement(X.a,{initialValues:i,enableReinitialize:!0,onSubmit:function(e,r){var o=r.resetForm;!function(e){if(n)c(e),a();else{t(e);for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];console.log(o)}}(e),o(i)},className:o.form,validationSchema:G},(function(e){var t=e.values,c=e.handleChange,i=e.handleSubmit,l=e.handleBlur,u=e.errors,s=e.touched;return r.a.createElement("form",{onSubmit:i,noValidate:!0},r.a.createElement(R.a,{container:!0,spacing:3},r.a.createElement(R.a,{item:!0,xs:12},r.a.createElement(K,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"firstName",label:"First name",name:"firstName",autoComplete:"firstName",value:t.firstName,onChange:c,onBlur:l,helperText:u.firstName&&s.firstName&&u.firstName}),r.a.createElement(K,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"lastName",label:"Last name",name:"lastName",autoComplete:"lastName",value:t.lastName,onChange:c,onBlur:l,helperText:u.lastName&&s.lastName&&u.lastName}),r.a.createElement(K,{variant:"outlined",margin:"normal",fullWidth:!0,id:"patronymic",label:"Patronymic",name:"patronymic",autoComplete:"patronymic",value:t.patronymic,onChange:c,onBlur:l,helperText:u.patronymic&&s.patronymic&&u.patronymic}),r.a.createElement("div",{className:o.spacing},r.a.createElement(K,{id:"birthDate",label:"Birthdate",type:"date",required:!0,className:o.textField,InputLabelProps:{shrink:!0},onChange:c,onBlur:l,value:t.birthDate,helperText:u.birthDate&&s.birthDate&&u.birthDate}),r.a.createElement(J.a,null,r.a.createElement(V.a,{id:"performance"},"Performance"),r.a.createElement(W.a,{labelId:"performance",label:"Performance",id:"performance",name:"performance",value:t.performance,onChange:c},r.a.createElement(F.a,{value:"well"},"Well"),r.a.createElement(F.a,{value:"normal"},"Normal"),r.a.createElement(F.a,{value:"bad"},"Bad"),r.a.createElement(F.a,{value:"Inadequate"},"Inadequate")))))),!n&&r.a.createElement(B.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:o.button},"Add student"),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{fullWidth:!0,variant:"contained",color:"primary",className:o.button,onClick:function(){a()}},"Cancel"),r.a.createElement(B.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:o.button},"Submit")))})))})),Y=n(365),Z=Object(m.a)((function(e){return{container:{display:"flex",justifyContent:"space-between",width:"90%"},loading:{position:"absolute",top:"50%",left:"50%"}}})),$=M(b(),Object(i.b)((function(e){return{students:e.students,selectedStudent:e.selectedStudent}}),{studentsLoaded:function(e){return{type:"STUDENTSLIST_LOADED",payload:e}}}))((function(e){var t=e.students,n=e.studentslistService,c=e.studentsLoaded,o=Z(),i=Object(a.useState)(!0),l=Object(s.a)(i,2),u=l[0],m=l[1];return Object(a.useEffect)((function(){m(!0),c(n.getStudents()),setTimeout((function(){m(!1)}),1e3)}),[c,n]),t.length>0&&n.saveToLocalStore(t),r.a.createElement(d.a,{className:o.container},!u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(U,{students:t}),r.a.createElement(Q,null)),u&&r.a.createElement(Y.a,{className:o.loading}))})),ee=function(){return r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/",component:$,exact:!0}))},te=n(79),ne=n(80),ae=n(162),re=n(159),ce=n(163),oe=(n(313),function(){return r.a.createElement("div",null,"Error")}),ie=function(e){function t(){var e,n;Object(te.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(ae.a)(this,(e=Object(re.a)(t)).call.apply(e,[this].concat(r)))).state={hasError:!1},n}return Object(ce.a)(t,e),Object(ne.a)(t,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(oe,null):this.props.children}}]),t}(a.Component),le=function(){function e(){Object(te.a)(this,e)}return Object(ne.a)(e,[{key:"getStudents",value:function(){var e=localStorage.getItem("students");return e?JSON.parse(e):[]}},{key:"saveToLocalStore",value:function(e){localStorage.setItem("students",JSON.stringify(e))}}]),e}(),ue=n(73),se=n(103);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(n,!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pe={students:[],editingStudent:""},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STUDENTSLIST_LOADED":return{students:t.payload};case"ADD_STUDENT":return me({},e,{students:[].concat(Object(se.a)(e.students),[t.payload])});case"DELETE_STUDENT":return me({},e,{students:Object(se.a)(e.students.filter((function(e){return e.id!==t.payload})))});case"SELECT_EDIT_STUDENT":return me({},e,{editingStudent:e.students.find((function(e){return e.id===t.payload}))});case"RESET_EDIT_STUDENT":return me({},e,{editingStudent:""});case"UPDATE_STUDENT":return me({},e,{students:e.students.map((function(n){return n.id===e.editingStudent.id?me({},e.editingStudent,{},t.payload):n}))});default:return e}},Ee=Object(ue.b)(fe,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),be=new le;o.a.render(r.a.createElement(i.a,{store:Ee},r.a.createElement(ie,null,r.a.createElement(f,{value:be},r.a.createElement(l.a,null,r.a.createElement(ee,null))))),document.getElementById("root"))}},[[177,1,2]]]);
//# sourceMappingURL=main.d4358cfe.chunk.js.map