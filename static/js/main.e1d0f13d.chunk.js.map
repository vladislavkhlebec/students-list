{"version":3,"sources":["components/studentslist-service-context/studentslist-service-context.js","components/hoc/with-studentslist-service.js","actions/index.js","components/students-list/students-list-item.jsx","components/students-list/students-list.jsx","utils/compose.js","components/add-student-form/add-student-form.jsx","components/pages/listPage.jsx","components/app/index.js","components/app/app.jsx","components/error-indicator/index.js","components/error-indicator/error-indicator.tsx","components/error-boundary/index.js","components/error-boundary/error-boudary.tsx","services/studentslist-service.js","reducers/index.js","store/index.js","index.js"],"names":["React","createContext","StudentslistServiceProvider","Provider","StudentslistServiceConsumer","Consumer","withStudentslistService","Wrapped","props","studentslistService","useStyles","makeStyles","theme","margin","spacing","center","display","justifyContent","paddingRight","column","flexDirection","width","connect","deleteStudent","id","type","payload","selectEditStudent","student","firstName","lastName","patronymic","birthDate","performance","avatar","classes","ListItem","button","className","ListItemAvatar","Avatar","alt","src","Box","ListItemText","primary","IconButton","aria-label","onClick","fontSize","ListItemSecondaryAction","list","maxWidth","backgroundColor","palette","background","paper","StudentsList","students","List","map","labelId","key","compose","funcs","comp","reduceRight","wrapped","f","form","padding","marginTop","ValidationSchema","Yup","shape","min","max","required","CssTextField","withStyles","root","color","TextField","state","editingStudent","addStudent","Math","random","toString","substr","deselectEditStudent","updateStudent","initialValues","Container","enableReinitialize","onSubmit","resetForm","console","log","validationSchema","values","handleChange","handleSubmit","handleBlur","errors","touched","noValidate","Grid","container","item","xs","variant","fullWidth","label","name","autoComplete","value","onChange","onBlur","helperText","textField","InputLabelProps","shrink","FormControl","InputLabel","Select","MenuItem","Button","loading","position","top","left","selectedStudent","studentsLoaded","useState","isLoading","setIsLoading","useEffect","getStudents","setTimeout","length","saveToLocalStore","CircularProgress","App","path","component","ListPage","exact","ErrorIndicator","ErrorBoundary","hasError","this","setState","children","Component","StudentsListService","studentsFromStore","localStorage","getItem","JSON","parse","setItem","stringify","initialState","reducer","action","filter","find","elem","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","studentsListService","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e1d0f13d.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst {\r\n  Provider: StudentslistServiceProvider,\r\n  Consumer: StudentslistServiceConsumer\r\n} = React.createContext();\r\n\r\nexport {\r\n  StudentslistServiceProvider,\r\n  StudentslistServiceConsumer\r\n};","import React from 'react';\r\nimport { StudentslistServiceConsumer } from '../studentslist-service-context';\r\nconst withStudentslistService = () => (Wrapped) => {\r\n    return (props) => {\r\n        return (\r\n            <StudentslistServiceConsumer>\r\n                {\r\n                    (studentslistService) => {\r\n                        return <Wrapped {...props} studentslistService={studentslistService} />\r\n                    }\r\n                }\r\n            </StudentslistServiceConsumer>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withStudentslistService;","const studentsLoaded = (students) => {\r\n  return {\r\n      type: 'STUDENTSLIST_LOADED',\r\n      payload: students\r\n  };\r\n}\r\nconst addStudent = (student) => {\r\n  const generateId = () => '_' + Math.random().toString(36).substr(2, 9);\r\n\r\n  return {\r\n      type: 'ADD_STUDENT',\r\n      payload: {\r\n        id: generateId(),\r\n        ...student\r\n      }\r\n  };\r\n}\r\n\r\nconst deleteStudent = (id) => {\r\n  return {\r\n    type: 'DELETE_STUDENT',\r\n    payload: id\r\n  }\r\n}\r\n\r\nconst selectEditStudent = (id) => {\r\n  return {\r\n    type: 'SELECT_EDIT_STUDENT',\r\n    payload: id\r\n  }\r\n}\r\n\r\nconst deselectEditStudent = () => {\r\n  return {\r\n    type: 'RESET_EDIT_STUDENT',\r\n  }\r\n}\r\n\r\nconst updateStudent = (student) => {\r\n  return {\r\n    type: 'UPDATE_STUDENT',\r\n    payload: student\r\n  }\r\n}\r\nexport {\r\n  studentsLoaded,\r\n  addStudent,\r\n  deleteStudent,\r\n  selectEditStudent,\r\n  deselectEditStudent,\r\n  updateStudent\r\n};","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Box from '@material-ui/core/Box';\r\nimport { deleteStudent, selectEditStudent } from '../../actions'\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    margin: {\r\n\t\t\tmargin: theme.spacing(1),\r\n    }, \r\n    center: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\tpaddingRight: 0\r\n\t\t},\r\n\t\tcolumn: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\twidth: '70%'\r\n\t\t}\r\n}));\r\n\r\nconst defaultAvatar = 'https://st3.depositphotos.com/8169504/15139/v/1600/depositphotos_151391066-stock-illustration-man-portrait-beard-modern-avatar.jpg';\r\n\r\nconst StudentsListItem = ({ student, deleteStudent, selectEditStudent }) => {\r\n\tconst {\r\n\t\tid, \r\n\t\tfirstName, \r\n\t\tlastName, \r\n\t\tpatronymic, \r\n\t\tbirthDate,\r\n\t\tperformance,\r\n\t\tavatar \r\n\t} = student;\r\n\tconst classes = useStyles();\r\n\treturn (\r\n\t\t<ListItem button className={classes.center}>\r\n\t\t\t<ListItemAvatar>\r\n\t\t\t<Avatar\r\n\t\t\t\talt={`Avatar nÂ°${lastName + 1}`}\r\n\t\t\t\tsrc={avatar || defaultAvatar}\r\n\t\t\t/>\r\n\t\t\t</ListItemAvatar>\r\n\t\t\t<Box className={classes.column}>\r\n\t\t\t\t<ListItemText primary={`${lastName} ${firstName} ${patronymic}`} />\r\n\t\t\t\t<ListItemText primary={`Bithdate: ${birthDate} Performance: ${performance} `} />\r\n\t\t\t</Box>\r\n\t\t\t<IconButton aria-label=\"delete\" onClick={()=> selectEditStudent(id)}>\r\n\t\t\t\t<EditIcon fontSize=\"small\" />\r\n\t\t\t</IconButton>\r\n\t\t\t<IconButton aria-label=\"delete\" onClick={ () => deleteStudent(id)}>\r\n\t\t\t\t<DeleteIcon fontSize=\"small\" />\r\n\t\t\t</IconButton>\r\n\t\t\t<ListItemSecondaryAction />\r\n\t\t</ListItem>\r\n\t)\r\n};\r\n\r\nexport default connect(\r\n\tnull,\r\n\t{\r\n\t\tdeleteStudent,\r\n\t\tselectEditStudent\r\n\t}\r\n)(StudentsListItem);\r\n\r\n","import React from 'react';\r\nimport StudentsListItem from './students-list-item';\r\n\r\nimport List from '@material-ui/core/List';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  list: {\r\n    width: '100%',\r\n    maxWidth: 400,\r\n    backgroundColor: theme.palette.background.paper,\r\n\t},\r\n}));\r\n\r\n\r\nconst StudentsList = ({ students }) => {\r\n\tconst classes = useStyles();\r\n\treturn (\r\n\t\t\t<List className={classes.list}>\r\n\t\t\t\t{\r\n\t\t\t\t\tstudents.map((student) => {\r\n\t\t\t\t\t\tconst labelId = `checkbox-list-label-${student.id}`;\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<StudentsListItem key={student.id} student={student} labelId={labelId}/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</List>\r\n\t)\r\n}\r\n\r\nexport default StudentsList;","const compose = (...funcs) => (comp) => {\r\n  return funcs.reduceRight(\r\n    (wrapped, f) => f(wrapped), comp);\r\n};\r\n\r\nexport default compose;","import React from 'react';\r\n\r\nimport Container from '@material-ui/core/Container';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport { Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { withStudentslistService } from '../hoc';\r\nimport {connect} from 'react-redux';\r\nimport { addStudent, deselectEditStudent, updateStudent } from '../../actions'\r\nimport { compose } from '../../utils';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  form: {\r\n    width: '40%',\r\n    margin: 0,\r\n    padding: 0\r\n  },\r\n  spacing: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    width: '94%',\r\n  },\r\n  button: {\r\n    marginTop: '10px',\r\n  }\r\n}));\r\n\r\nconst ValidationSchema = Yup.object().shape({\r\n  firstName: Yup.string()\r\n    .min(2, 'Too Short!')\r\n    .max(50, 'Too Long!')\r\n    .required('Required'),\r\n  lastName: Yup.string()\r\n    .min(2, 'Too Short!')\r\n    .max(50, 'Too Long!')\r\n    .required('Required'),\r\n  patronymic: Yup.string()\r\n    .min(2, 'Too Short!')\r\n    .max(50, 'Too Long!')\r\n    .required('Required'),\r\n  birthDate: Yup.string()\r\n    .required('Required'),\r\n  performance: Yup.string()\r\n    .required('Required'),\r\n});\r\n\r\nconst CssTextField = withStyles({\r\n  root: {\r\n    '& .MuiFormHelperText-contained': {\r\n      color: 'red',\r\n    },\r\n  },\r\n})(TextField);\r\n\r\nconst AddStudentForm = ({\r\n  addStudent,\r\n  editingStudent,\r\n  deselectEditStudent,\r\n  updateStudent\r\n}) => {\r\n  const classes = useStyles();\r\n  const onSubmit = (student, ...props ) => {\r\n    if (!editingStudent) {\r\n      addStudent(student);\r\n      console.log(props)\r\n    }\r\n    else {\r\n      updateStudent(student);\r\n      deselectEditStudent()\r\n    }\r\n  }\r\n  const initialValues = {\r\n    firstName: `${editingStudent ? editingStudent.firstName : ''}`, \r\n    lastName: `${editingStudent ? editingStudent.lastName : ''}`,\r\n    patronymic: `${editingStudent ? editingStudent.patronymic : ''}`,\r\n    birthDate: `${editingStudent ? editingStudent.birthDate : '1990-01-01'}`,\r\n    performance: `${editingStudent ? editingStudent.performance : 'well'}`,\r\n    avatar: `${editingStudent ? editingStudent.avatar : ''}`\r\n  };\r\n\r\n  return (\r\n    <Container className={classes.form}>\r\n      <Formik \r\n        initialValues={initialValues}\r\n        enableReinitialize \r\n        onSubmit={ (student, {resetForm}) => {\r\n          onSubmit(student);\r\n          resetForm(initialValues);\r\n        }}\r\n        className={classes.form}\r\n        validationSchema={ ValidationSchema }\r\n      >\r\n      {({ values, handleChange, handleSubmit, handleBlur, errors, touched }) => (\r\n        <form onSubmit={handleSubmit} noValidate>\r\n          <Grid  container spacing={3}>\r\n            <Grid item xs={12}> \r\n              <CssTextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                id=\"firstName\"\r\n                label=\"First name\"\r\n                name=\"firstName\"\r\n                autoComplete=\"firstName\"\r\n                value={values.firstName}\r\n                onChange={handleChange}\r\n                onBlur={handleBlur}\r\n                helperText={(errors.firstName && touched.firstName) && errors.firstName}\r\n              />\r\n              <CssTextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                id=\"lastName\"\r\n                label=\"Last name\"\r\n                name=\"lastName\"\r\n                autoComplete=\"lastName\"\r\n                value={values.lastName}\r\n                onChange={handleChange}\r\n                onBlur={handleBlur}\r\n                helperText={(errors.lastName && touched.lastName) && errors.lastName}\r\n              />\r\n              <CssTextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                fullWidth\r\n                id=\"patronymic\"\r\n                label=\"Patronymic\"\r\n                name=\"patronymic\"\r\n                autoComplete=\"patronymic\"\r\n                value={values.patronymic}\r\n                onChange={handleChange}\r\n                onBlur={handleBlur}\r\n                helperText={(errors.patronymic && touched.patronymic) && errors.patronymic}\r\n              />\r\n              <div className={classes.spacing}>\r\n                <CssTextField\r\n                  id=\"birthDate\"\r\n                  label=\"Birthdate\"\r\n                  type=\"date\"\r\n                  required\r\n                  className={classes.textField}\r\n                  InputLabelProps={{\r\n                    shrink: true,\r\n                  }}\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  value={values.birthDate}\r\n                  helperText={(errors.birthDate && touched.birthDate) && errors.birthDate}\r\n                />\r\n                <FormControl>\r\n                  <InputLabel id=\"performance\">Performance</InputLabel>\r\n                  <Select\r\n                    labelId=\"performance\"\r\n                    label=\"Performance\"\r\n                    id=\"performance\"\r\n                    name=\"performance\"\r\n                    value={values.performance}\r\n                    onChange={handleChange}\r\n                  >\r\n                    <MenuItem value=\"well\">Well</MenuItem>\r\n                    <MenuItem value=\"normal\">Normal</MenuItem>\r\n                    <MenuItem value=\"bad\">Bad</MenuItem>\r\n                    <MenuItem value=\"Inadequate\">Inadequate</MenuItem>\r\n                    \r\n                  </Select>\r\n                </FormControl>\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n          {!editingStudent&&\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.button}\r\n            >\r\n              Add student\r\n            </Button>\r\n          }\r\n          {editingStudent&&\r\n            <>\r\n              <Button\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.button}\r\n                onClick={() => {\r\n                  deselectEditStudent();\r\n                }}\r\n              >\r\n                Cancel\r\n              </Button>\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.button}\r\n              >\r\n                Submit\r\n              </Button>\r\n            </>\r\n          }\r\n        </form>\r\n        )} \r\n      </Formik>\r\n    </Container>\r\n  )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    editingStudent: state.editingStudent,\r\n  }\r\n}\r\n\r\nexport default compose(\r\nwithStudentslistService(),\r\nconnect(\r\n  mapStateToProps, \r\n  { \r\n    addStudent,\r\n    deselectEditStudent,\r\n    updateStudent\r\n  }\r\n)\r\n)(AddStudentForm);","import React, { useEffect, useState } from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport Container from '@material-ui/core/Container';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport { withStudentslistService } from '../hoc';\r\nimport { studentsLoaded } from '../../actions'\r\n\r\nimport StudentsList from '../students-list/students-list';\r\nimport AddStudentForm from '../add-student-form/add-student-form'\r\nimport { compose } from '../../utils';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tcontainer: {\r\n\t\tdisplay: 'flex',\r\n    justifyContent: 'space-between',\r\n\t\twidth: '90%'\r\n  },\r\n  loading: {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%'\r\n  }\r\n}));\r\n\r\nconst ListPage = ({\r\n    students,\r\n    studentslistService, \r\n    studentsLoaded\r\n}) => {\r\n  const classes = useStyles();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    studentsLoaded( studentslistService.getStudents() );\r\n    setTimeout( () => {\r\n      setIsLoading(false)\r\n    }, 1000);\r\n  }, [studentsLoaded, studentslistService]);\r\n\r\n  if (students.length > 0)  studentslistService.saveToLocalStore(students);\r\n\r\n  return (\r\n    <Container className={classes.container}>\r\n      {!isLoading&&\r\n        <>\r\n          <StudentsList students={students} />\r\n          <AddStudentForm />\r\n        </>\r\n      }\r\n      {isLoading&&\r\n        <CircularProgress className={classes.loading} />\r\n      }\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    students: state.students,\r\n    selectedStudent: state.selectedStudent\r\n  }\r\n}\r\n\r\nexport default compose(\r\nwithStudentslistService(),\r\nconnect(\r\n  mapStateToProps, \r\n  { \r\n    studentsLoaded,\r\n  }\r\n)\r\n)(ListPage);","import App from './app';\r\n\r\nimport './app.css';\r\n\r\nexport default App;","import React from 'react';\r\nimport './app.css';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nimport ListPage from '../pages/listPage';\r\n\r\nconst App = () => {\r\n    return (\r\n        <Switch>\r\n            <Route \r\n                path=\"/students-list/\" \r\n                component={ListPage}\r\n                exact\r\n            />\r\n        </Switch>\r\n    )\r\n}\r\n\r\nexport default App;","import ErrorIndicator from './error-indicator';\r\n\r\nexport default ErrorIndicator;"," import React from 'react';\r\n import './error-indicator.css';\r\n\r\n const ErrorIndicator = () => {\r\n     return <div>Error</div>\r\n}\r\n\r\nexport default ErrorIndicator;\r\n","\r\nimport ErrorBoundary from './error-boudary';\r\n\r\nexport default ErrorBoundary;","import React, { Component } from 'react';\r\nimport ErrorIndicator from '../error-indicator';\r\n\r\nexport default class ErrorBoundry extends Component {\r\n\r\n    state = {\r\n        hasError: false,\r\n    }\r\n\r\n    componentDidCatch() {\r\n        this.setState({ hasError: true })\r\n    }\r\n\r\n    render() {\r\n        return this.state.hasError ? <ErrorIndicator /> : this.props.children;\r\n    }\r\n}","export default class StudentsListService {\r\n  getStudents() {\r\n    const studentsFromStore = localStorage.getItem('students');\r\n    return studentsFromStore ? JSON.parse(studentsFromStore) : [];\r\n  }\r\n  saveToLocalStore(students) {\r\n    localStorage.setItem('students', JSON.stringify(students));\r\n  }\r\n}","const initialState = {\r\n\tstudents: [],\r\n\teditingStudent: ''\r\n};\r\n\r\n\r\nconst reducer = (state = initialState, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase 'STUDENTSLIST_LOADED':\r\n\t\t\treturn {\r\n\t\t\t\tstudents: action.payload\r\n\t\t\t}     \r\n\t\tcase 'ADD_STUDENT':\r\n\t\t\treturn { \r\n\t\t\t\t...state,\r\n\t\t\t\tstudents: [...state.students, action.payload]\r\n\t\t\t}\r\n\t\tcase 'DELETE_STUDENT': {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstudents: [...state.students.filter( ({id}) => id !== action.payload)]\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase 'SELECT_EDIT_STUDENT': {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditingStudent: state.students.find( elem => elem.id === action.payload)\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase 'RESET_EDIT_STUDENT': {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditingStudent: ''\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase 'UPDATE_STUDENT': {\r\n\t\t\treturn {\r\n        ...state,\r\n        students: state.students.map(student => \r\n\t\t\t\t\tstudent.id === state.editingStudent.id ? { ...state.editingStudent, ...action.payload } : student\r\n        ) \r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default reducer;","import { createStore } from 'redux';\r\n\r\nimport reducer from '../reducers';\r\n\r\nconst store = createStore(\r\n    reducer,\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n    );\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport App from './components/app';\nimport ErrorBoundry from './components/error-boundary';\nimport StudentsListService from './services/studentslist-service';\nimport { StudentslistServiceProvider } from './components/studentslist-service-context';\n\nimport store from './store';\n\nconst studentsListService = new StudentsListService();\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<ErrorBoundry>\n\t\t\t<StudentslistServiceProvider value={studentsListService}>\n\t\t\t\t<Router>\n\t\t\t\t\t<App />\n\t\t\t\t</Router>\n\t\t\t</StudentslistServiceProvider>\n\t\t</ErrorBoundry>\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n\n"],"sourceRoot":""}